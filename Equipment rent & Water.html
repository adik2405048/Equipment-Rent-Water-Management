<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Irrigation Planner & Equipment Rental</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f9ff; /* Tailwind's sky-50 */
        }
        .card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .tab-btn {
            transition: background-color 0.3s, color 0.3s;
        }
        .tab-btn.active {
            background-color: #0284c7; /* sky-600 */
            color: white;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header -->
    <header class="bg-sky-700 text-white text-center py-12">
        <div class="container mx-auto px-6">
            <h1 class="text-4xl md:text-5xl font-extrabold">üíß Smart Farming Hub</h1>
            <p class="mt-4 text-lg md:text-xl text-sky-200">Irrigation Planning & Equipment Rental</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12">
        <div class="max-w-4xl mx-auto">
            
            <!-- Calculator Section -->
            <section class="card bg-white p-8 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-center">Calculate Water Requirement</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-end">
                    <!-- Inputs -->
                    <div class="space-y-4">
                        <div>
                            <label for="crop-select" class="font-semibold text-gray-600 block mb-2">Select Crop</label>
                            <select id="crop-select" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
                                <option value="" disabled selected>Choose your crop</option>
                            </select>
                        </div>
                        <div>
                            <label for="area-input" class="font-semibold text-gray-600 block mb-2">Enter Land Area</label>
                            <div class="flex space-x-2">
                               <input type="number" id="area-input" placeholder="e.g., 10" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500" required>
                               <select id="unit-select" class="w-2/3 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
                                   <option value="decimal">Decimal</option>
                                   <option value="katha">Katha</option>
                                   <option value="bigha">Bigha</option>
                                   <option value="acre" selected>Acre</option>
                                   <option value="hectare">Hectare</option>
                               </select>
                            </div>
                        </div>
                         <button id="calculate-btn" class="w-full bg-sky-600 text-white font-bold py-3 rounded-md hover:bg-sky-700 transition text-lg mt-4">
                            <i class="fas fa-calculator mr-2"></i> Calculate
                         </button>
                    </div>

                    <!-- Results -->
                    <div id="result-container" class="bg-sky-50 p-6 rounded-lg border border-sky-200 text-center hidden">
                         <h3 class="text-xl font-bold text-sky-800">Estimated Water Needed</h3>
                         <p class="text-4xl font-extrabold text-sky-600 my-3" id="water-result">0</p>
                         <p class="text-lg text-gray-600">Litres (for the entire season)</p>
                         <p class="text-sm text-gray-500 mt-4" id="result-details"></p>
                    </div>
                </div>
                <div id="error-message" class="hidden mt-4 text-center p-3 bg-red-100 text-red-800 rounded-md"></div>
            </section>

            <!-- Farm Equipment Rental Section -->
            <section class="card bg-white p-8 mt-12 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-center"><i class="fas fa-tractor mr-2"></i>Farm Equipment Rental</h2>
                <!-- Location Filter -->
                <div class="mb-6">
                    <label for="district-filter" class="font-semibold text-gray-600 block mb-2">Filter by Your District</label>
                    <select id="district-filter" class="w-full md:w-1/2 p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500">
                        <option value="all">All Districts</option>
                    </select>
                </div>
                <!-- Equipment Catalog -->
                <div id="equipment-catalog" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Equipment cards will be inserted here -->
                </div>
            </section>


            <!-- Water Saving Tips Section -->
            <section class="card bg-white p-8 mt-12 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-6 text-center">üí° Water-Saving Tips</h2>
                <div class="flex justify-center mb-6 border-b">
                    <button id="tab-en" class="tab-btn active font-semibold py-2 px-6 rounded-t-lg">English</button>
                    <button id="tab-bn" class="tab-btn font-semibold py-2 px-6 rounded-t-lg">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</button>
                </div>

                <div id="tips-en" class="space-y-4">
                    <div class="p-4 bg-gray-50 rounded-md"><strong>1. Irrigate Early or Late:</strong> Water your fields in the early morning or late evening to reduce evaporation from the sun's heat.</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>2. Use Mulch:</strong> Cover the soil around your plants with straw or plastic mulch. This helps retain moisture and reduces the need for frequent watering.</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>3. Check for Leaks:</strong> Regularly inspect your pipes, hoses, and pumps for any leaks. A small drip can waste thousands of litres over a season.</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>4. Alternate Wetting & Drying (AWD) for Rice:</strong> Instead of keeping paddy fields continuously flooded, allow the soil to dry for a few days before re-irrigating. This can save up to 30% of water without affecting the yield.</div>
                </div>

                <div id="tips-bn" class="space-y-4 hidden">
                    <div class="p-4 bg-gray-50 rounded-md"><strong>‡ßß. ‡¶∏‡¶ï‡¶æ‡¶≤‡ßá ‡¶¨‡¶æ ‡¶∏‡¶®‡ßç‡¶ß‡ßç‡¶Ø‡¶æ‡¶Ø‡¶º ‡¶∏‡ßá‡¶ö ‡¶¶‡¶ø‡¶®:</strong> ‡¶¨‡¶æ‡¶∑‡ßç‡¶™‡ßÄ‡¶≠‡¶¨‡¶® ‡¶ï‡¶Æ‡¶æ‡¶§‡ßá ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶ï‡¶æ‡¶≤‡ßá ‡¶¨‡¶æ ‡¶∂‡ßá‡¶∑ ‡¶¨‡¶ø‡¶ï‡ßá‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡¶Æ‡¶ø‡¶§‡ßá ‡¶ú‡¶≤ ‡¶¶‡¶ø‡¶®‡•§</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>‡ß®. ‡¶Æ‡¶æ‡¶≤‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®:</strong> ‡¶ó‡¶æ‡¶õ‡ßá‡¶∞ ‡¶ó‡ßã‡¶°‡¶º‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶ñ‡¶°‡¶º ‡¶¨‡¶æ ‡¶™‡ßç‡¶≤‡¶æ‡¶∏‡ßç‡¶ü‡¶ø‡¶ï ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¢‡ßá‡¶ï‡ßá ‡¶¶‡¶ø‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ ‡¶ß‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶ò‡¶® ‡¶ò‡¶® ‡¶ú‡¶≤‡ßá‡¶∞ ‡¶ö‡¶æ‡¶π‡¶ø‡¶¶‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶Ø‡¶º‡•§</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>‡ß©. ‡¶´‡ßÅ‡¶ü‡ßã ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®:</strong> ‡¶®‡¶ø‡¶Ø‡¶º‡¶Æ‡¶ø‡¶§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶æ‡¶á‡¶™, ‡¶π‡ßã‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶™‡¶æ‡¶Æ‡ßç‡¶™‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶´‡ßÅ‡¶ü‡ßã ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶§‡¶æ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡ßã‡¶ü ‡¶´‡ßÅ‡¶ü‡ßã ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá‡¶ì ‡¶™‡ßç‡¶∞‡¶ö‡ßÅ‡¶∞ ‡¶ú‡¶≤ ‡¶Ö‡¶™‡¶ö‡¶Ø‡¶º ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§</div>
                    <div class="p-4 bg-gray-50 rounded-md"><strong>‡ß™. ‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø AWD ‡¶™‡¶¶‡ßç‡¶ß‡¶§‡¶ø:</strong> ‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶ú‡¶Æ‡¶ø ‡¶ï‡ßç‡¶∞‡¶Æ‡¶æ‡¶ó‡¶§ ‡¶™‡ßç‡¶≤‡¶æ‡¶¨‡¶ø‡¶§ ‡¶®‡¶æ ‡¶∞‡ßá‡¶ñ‡ßá, ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶∏‡ßá‡¶ö‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶ï‡¶Ø‡¶º‡ßá‡¶ï ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Æ‡¶æ‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ï‡¶æ‡¶§‡ßá ‡¶¶‡¶ø‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶´‡¶≤‡¶®‡ßá‡¶∞ ‡¶ï‡ßç‡¶∑‡¶§‡¶ø ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá‡¶á ‡ß©‡ß¶% ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ú‡¶≤ ‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡¶Ø‡¶º ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§</div>
                </div>
            </section>
        </div>
    </main>
    
    <footer class="bg-gray-800 text-white mt-16 py-8">
        <div class="container mx-auto px-6 text-center">
            <p>&copy; 2025 - Smart Farming Solutions</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA & CONSTANTS ---
            const CROP_WATER_DATA = { "Boro Rice": 1200, "Aman Rice": 800, "Wheat": 400, "Maize": 550, "Potato": 500, "Jute": 600, "Mustard": 350, "Lentil": 250, "Sugarcane": 1800 };
            const CONVERSION_TO_HECTARE = { decimal: 0.004047, katha: 0.006773, bigha: 0.1338, acre: 0.4047, hectare: 1.0 };
            const EQUIPMENT_DATA = [
                { name: "Sonalika Tractor", power: "55 HP", rates: { day: 4000, hour: 500 }, status: "Available", district: "Mymensingh", image: "https://placehold.co/600x400/22c55e/ffffff?text=Tractor" },
                { name: "Combine Harvester", power: "120 HP", rates: { day: 15000, hour: 2000 }, status: "Available", district: "Rajshahi", image: "https://placehold.co/600x400/f97316/ffffff?text=Harvester" },
                { name: "Modern Power Tiller", power: "15 HP", rates: { day: 1500, hour: 200 }, status: "Booked", district: "Dhaka", image: "https://placehold.co/600x400/3b82f6/ffffff?text=Power+Tiller" },
                { name: "Agri-Drone Sprayer", power: "N/A", rates: { day: 6000, hour: 800 }, status: "Available", district: "Rajshahi", image: "https://placehold.co/600x400/8b5cf6/ffffff?text=Drone" },
                { name: "High-Flow Irrigation Pump", power: "10 HP", rates: { day: 1000, hour: 150 }, status: "Available", district: "Mymensingh", image: "https://placehold.co/600x400/0ea5e9/ffffff?text=Pump" },
                { name: "Backpack Sprayer", power: "N/A", rates: { day: 500, hour: 70 }, status: "Available", district: "Dhaka", image: "https://placehold.co/600x400/ec4899/ffffff?text=Sprayer" },
            ];

            // --- DOM Elements ---
            const cropSelect = document.getElementById('crop-select');
            const areaInput = document.getElementById('area-input');
            const unitSelect = document.getElementById('unit-select');
            const calculateBtn = document.getElementById('calculate-btn');
            const resultContainer = document.getElementById('result-container');
            const waterResult = document.getElementById('water-result');
            const resultDetails = document.getElementById('result-details');
            const errorMessage = document.getElementById('error-message');
            const tabEn = document.getElementById('tab-en');
            const tabBn = document.getElementById('tab-bn');
            const tipsEn = document.getElementById('tips-en');
            const tipsBn = document.getElementById('tips-bn');
            const districtFilter = document.getElementById('district-filter');
            const equipmentCatalog = document.getElementById('equipment-catalog');


            // --- INITIALIZATION ---
            function initialize() {
                // Populate crop dropdown
                Object.keys(CROP_WATER_DATA).forEach(cropName => {
                    const option = document.createElement('option');
                    option.value = cropName;
                    option.textContent = cropName;
                    cropSelect.appendChild(option);
                });

                // Populate district filter and render equipment
                const districts = [...new Set(EQUIPMENT_DATA.map(item => item.district))];
                districts.forEach(district => {
                    const option = document.createElement('option');
                    option.value = district;
                    option.textContent = district;
                    districtFilter.appendChild(option);
                });
                renderEquipment(EQUIPMENT_DATA);
            }
            

            // --- EVENT LISTENERS ---
            calculateBtn.addEventListener('click', calculateWater);
            tabEn.addEventListener('click', () => switchTab('en'));
            tabBn.addEventListener('click', () => switchTab('bn'));
            districtFilter.addEventListener('change', filterEquipment);


            // --- FUNCTIONS ---
            function calculateWater() {
                const crop = cropSelect.value;
                const area = parseFloat(areaInput.value);
                const unit = unitSelect.value;

                if (!crop || isNaN(area) || area <= 0) {
                    showError("Please select a crop and enter a valid land area.");
                    return;
                }
                hideError();

                const areaInHectare = area * CONVERSION_TO_HECTARE[unit];
                const waterPerHectareMM = CROP_WATER_DATA[crop];
                const totalWaterLitres = areaInHectare * waterPerHectareMM * 10000;
                
                waterResult.textContent = totalWaterLitres.toLocaleString('en-US', { maximumFractionDigits: 0 });
                resultDetails.textContent = `Based on ${waterPerHectareMM} mm seasonal requirement for ${crop}.`;
                resultContainer.classList.remove('hidden');
            }

            function renderEquipment(items) {
                equipmentCatalog.innerHTML = '';
                if (items.length === 0) {
                    equipmentCatalog.innerHTML = `<p class="text-gray-500 text-center md:col-span-2">No equipment found for the selected district.</p>`;
                    return;
                }
                items.forEach(item => {
                    const statusColor = item.status === 'Available' ? 'text-green-600' : 'text-red-600';
                    const statusBg = item.status === 'Available' ? 'bg-green-100' : 'bg-red-100';
                    
                    const card = document.createElement('div');
                    card.className = 'border rounded-lg overflow-hidden bg-white shadow';
                    card.innerHTML = `
                        <img src="${item.image}" alt="${item.name}" class="w-full h-48 object-cover">
                        <div class="p-4">
                            <h3 class="text-xl font-bold">${item.name}</h3>
                            <p class="text-gray-600">${item.power}</p>
                            <div class="flex justify-between items-center mt-2">
                                <p class="text-gray-800 font-semibold">${item.rates.day} BDT/day</p>
                                <p class="text-sm text-gray-500">${item.rates.hour} BDT/hour</p>
                            </div>
                            <div class="flex justify-between items-center mt-4">
                               <span class="font-semibold py-1 px-3 rounded-full text-sm ${statusColor} ${statusBg}">${item.status}</span>
                               <a href="tel:+880123456789" class="bg-sky-600 text-white px-4 py-2 rounded-md hover:bg-sky-700 transition">
                                  <i class="fas fa-phone-alt mr-1"></i> Contact
                               </a>
                            </div>
                        </div>
                    `;
                    equipmentCatalog.appendChild(card);
                });
            }

            function filterEquipment() {
                const selectedDistrict = districtFilter.value;
                if (selectedDistrict === 'all') {
                    renderEquipment(EQUIPMENT_DATA);
                } else {
                    const filtered = EQUIPMENT_DATA.filter(item => item.district === selectedDistrict);
                    renderEquipment(filtered);
                }
            }

            function showError(message) {
                errorMessage.textContent = message;
                errorMessage.classList.remove('hidden');
                resultContainer.classList.add('hidden');
            }

            function hideError() {
                errorMessage.classList.add('hidden');
            }
            
            function switchTab(lang) {
                if (lang === 'en') {
                    tabEn.classList.add('active');
                    tabBn.classList.remove('active');
                    tipsEn.classList.remove('hidden');
                    tipsBn.classList.add('hidden');
                } else {
                    tabBn.classList.add('active');
                    tabEn.classList.remove('active');
                    tipsBn.classList.remove('hidden');
                    tipsEn.classList.add('hidden');
                }
            }
            
            // --- RUN ON LOAD ---
            initialize();
        });
    </script>
</body>
</html>

